(()=>{const e=e=>{let t,n,i=Math.floor(e/60),r=Math.floor(e-60*i);t=i<10?"0"+i:i,n=r<10?"0"+r:r;return t+" : "+n};window.$={loadVideo:(t={target:"#app",source:"",thumb:"",showThumbAt:4,thumbEndAt:60})=>{document.querySelector(t.target).innerHTML=`\n    <div class="video-wrapper">\n      <video\n        controls\n        src=${t.source}\n        poster=${t.poster}\n        width="100%"\n      ></video>\n      <div class="ads-thumb">\n        <img src=${t.thumb} />\n      </div>\n      <div class="controls">\n        <div class="progress">\n          <div class="progress-bar"></div>\n          <div class="buffer-bar"></div>\n          <div class="dot-thumb"></div>\n        </div>\n        <div class="button-controls">\n          <div>\n            <button\n              class="play"\n              data-icon="P"\n              aria-label="play pause toggle"\n            ></button>\n            <span class="remaining-time">00:00</span> /\n            <span class="duration-time">00:00</span>\n          </div>\n          <div>\n            <button class="full" data-icon="M" aria-label="full"></button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;const n=document.querySelector("video"),i=document.querySelector(".video-wrapper"),r=document.querySelector(".controls"),s=document.querySelector(".play"),o=document.querySelector(".full"),d=document.querySelector(".progress-bar"),u=document.querySelector(".buffer-bar"),l=document.querySelector(".progress"),c=document.querySelector(".duration-time"),a=document.querySelector(".remaining-time"),v=document.querySelector(".dot-thumb"),b=document.querySelector(".ads-thumb");n.removeAttribute("controls"),r.style.visibility="visible",n.addEventListener("loadeddata",(function(){if(n.duration!==isNaN){c.textContent=e(n.duration);const i=t.showThumbAt/n.duration*100;v.style.left=i+"%"}})),n.addEventListener("progress",(()=>{if(n.buffered.length>0){const e=n.buffered.end(n.buffered.length-1);u.style.width=e/n.duration*100+"%"}})),n.addEventListener("timeupdate",(function(){const i=n.currentTime/n.duration*100;d.style.width=i+"%",a.textContent=e(n.currentTime),n.currentTime>=t.showThumbAt&&n.currentTime<=t.thumbEndAt?b.style.visibility="visible":n.currentTime>=t.thumbEndAt&&(b.style.visibility="hidden")})),s.addEventListener("click",(function(){n.paused?(s.setAttribute("data-icon","u"),n.play(),r.style.visibility="hidden"):(s.setAttribute("data-icon","P"),n.pause(),r.style.visibility="visible")})),l.addEventListener("click",(e=>{const t=e.offsetX/l.clientWidth*100;d.style.width=e.offsetX+"px",n.currentTime=t*n.duration/100})),i.addEventListener("mouseenter",(()=>{r.style.visibility="visible"})),i.addEventListener("mouseleave",(()=>{n.paused||(r.style.visibility="hidden")})),o.addEventListener("click",(()=>{i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullScreen&&i.webkitRequestFullScreen()}))}}})();
//# sourceMappingURL=index.js.map
