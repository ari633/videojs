{"mappings":"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","sources":["Code/www/vidplayer/lib/videoplayer/src/index.js"],"sourcesContent":["export const loadVideo = (\n  config = {\n    target: '#app',\n    source: '',\n    thumb: '',\n    showThumbAt: 4,\n    thumbEndAt: 60,\n  }\n) => {\n\n  const app = document.querySelector (config.target);\n  app.innerHTML = `\n    <div class=\"video-wrapper\">\n      <video\n        controls\n        src=${config.source}\n        poster=${config.poster}\n        width=\"100%\"\n      ></video>\n      <div class=\"ads-thumb\">\n        <img src=${config.thumb} />\n      </div>\n      <div class=\"controls\">\n        <div class=\"progress\">\n          <div class=\"progress-bar\"></div>\n          <div class=\"buffer-bar\"></div>\n          <div class=\"dot-thumb\"></div>\n        </div>\n        <div class=\"button-controls\">\n          <div>\n            <button\n              class=\"play\"\n              data-icon=\"P\"\n              aria-label=\"play pause toggle\"\n            ></button>\n            <span class=\"remaining-time\">00:00</span> /\n            <span class=\"duration-time\">00:00</span>\n          </div>\n          <div>\n            <button class=\"full\" data-icon=\"M\" aria-label=\"full\"></button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n\n  const video = document.querySelector ('video');\n  const videoWrapper = document.querySelector ('.video-wrapper');\n  const controls = document.querySelector ('.controls');\n\n  const play = document.querySelector ('.play');\n  const full = document.querySelector ('.full');\n  const progressBar = document.querySelector ('.progress-bar');\n  const bufferBar = document.querySelector ('.buffer-bar');\n  const progress = document.querySelector ('.progress');\n  const durationTime = document.querySelector ('.duration-time');\n  const remainingTime = document.querySelector ('.remaining-time');\n  const dotThumb = document.querySelector ('.dot-thumb');\n  const adsThumb = document.querySelector ('.ads-thumb');\n\n  video.removeAttribute ('controls');\n  controls.style.visibility = 'visible';\n\n  video.addEventListener ('loadeddata', function () {\n    if (video.duration !== isNaN) {\n      durationTime.textContent = getTimer (video.duration);\n\n      const atIndex = config.showThumbAt / video.duration * 100;\n      dotThumb.style.left = atIndex + '%';\n    }\n  });\n\n  function handleEvent () {\n    const currentPercent = video.currentTime / video.duration * 100;\n    progressBar.style.width = currentPercent + '%';\n    remainingTime.textContent = getTimer (video.currentTime);\n    if (\n      video.currentTime >= config.showThumbAt &&\n      video.currentTime <= config.thumbEndAt\n    ) {\n      adsThumb.style.visibility = 'visible';\n    } else if (video.currentTime >= config.thumbEndAt) {\n      adsThumb.style.visibility = 'hidden';\n    }\n  }\n\n  function playPauseMedia () {\n    if (video.paused) {\n      play.setAttribute ('data-icon', 'u');\n      video.play ();\n      controls.style.visibility = 'hidden';\n    } else {\n      play.setAttribute ('data-icon', 'P');\n      video.pause ();\n      controls.style.visibility = 'visible';\n    }\n  }\n\n  video.addEventListener ('progress', () => {\n    if (video.buffered.length > 0) {\n      const bufferedEnd = video.buffered.end (video.buffered.length - 1);\n      bufferBar.style.width = bufferedEnd / video.duration * 100 + '%';\n    }\n  });\n\n  video.addEventListener ('timeupdate', handleEvent);\n  play.addEventListener ('click', playPauseMedia);\n\n  progress.addEventListener ('click', e => {\n    const percentBar = e.offsetX / progress.clientWidth * 100;\n    progressBar.style.width = e.offsetX + 'px';\n    video.currentTime = percentBar * video.duration / 100;\n  });\n\n  videoWrapper.addEventListener ('mouseenter', () => {\n    controls.style.visibility = 'visible';\n  });\n\n  videoWrapper.addEventListener ('mouseleave', () => {\n    if (!video.paused) {\n      controls.style.visibility = 'hidden';\n    }\n  });\n\n  full.addEventListener ('click', () => {\n    if (videoWrapper.mozRequestFullScreen) {\n      videoWrapper.mozRequestFullScreen ();\n    } else if (videoWrapper.webkitRequestFullScreen) {\n      videoWrapper.webkitRequestFullScreen ();\n    }\n  });\n}\n\nexport const getTimer = time => {\n  let minutes = Math.floor (time / 60);\n  let seconds = Math.floor (time - minutes * 60);\n  let minuteValue;\n  let secondValue;\n  if (minutes < 10) {\n    minuteValue = '0' + minutes;\n  } else {\n    minuteValue = minutes;\n  }\n\n  if (seconds < 10) {\n    secondValue = '0' + seconds;\n  } else {\n    secondValue = seconds;\n  }\n\n  const mediaTime = minuteValue+' : '+secondValue;\n  return mediaTime;\n};\n\n\nwindow.$ = {\n  loadVideo\n};"],"names":[],"version":3,"file":"index.js.map"}